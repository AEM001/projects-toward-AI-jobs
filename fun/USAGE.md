# 🎉 项目使用说明

## 🚀 快速开始（30秒搞定）

### 方式一：使用启动脚本（推荐）

```bash
cd /Users/Mac/code/project/fun
./start.sh
```

然后在浏览器打开：**http://localhost:5173**

### 方式二：手动启动

**终端 1 - 启动后端：**
```bash
cd /Users/Mac/code/project/fun/backend
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

**终端 2 - 启动前端：**
```bash
cd /Users/Mac/code/project/fun/frontend
npm run dev
```

然后在浏览器打开：**http://localhost:5173**

---

## 📱 浏览器使用指南

### 1. 注册/登录页面

```
┌─────────────────────────────────────┐
│             任务管理系统              │
├─────────────────────────────────────┤
│ 邮箱:  your@email.com               │
│ 密码:  ••••••••                    │
│                                     │
│ [登录]                              │
│                                     │
│ 没有账号？ [注册]                    │
└─────────────────────────────────────┘
```

**操作：**
- 输入邮箱（如：test@example.com）
- 输入密码
- 点击"登录"或"注册"
- 首次使用请先点击"注册"

### 2. 任务列表页面

```
┌─────────────────────────────────────┐
│ 📋 我的任务              [退出登录]   │
├─────────────────────────────────────┤
│ 任务标题: [_____________]           │
│ 任务描述: [_____________]           │
│ [添加任务]                          │
├─────────────────────────────────────┤
│ ┌─────────────────────────────────┐ │
│ │ 🟣 待办                          │ │
│ │ 学习 FastAPI                     │ │
│ │ 掌握基础概念                     │ │
│ │ 2026-01-16 14:30                 │ │
│ │ [待办▼] [删除]                   │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ 🟠 进行中                        │ │
│ │ 学习 Vue 3                       │ │
│ │ Composition API                  │ │
│ │ 2026-01-16 14:25                 │ │
│ │ [进行中▼] [删除]                 │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ 🟢 已完成                        │ │
│ │ 安装依赖                         │ │
│ │ 2026-01-16 14:20                 │ │
│ │ [已完成▼] [删除]                 │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

**操作说明：**

1. **创建任务**
   - 在"任务标题"输入框输入标题
   - 在"任务描述"输入框输入描述（可选）
   - 点击"添加任务"按钮

2. **切换任务状态**
   - 每个任务右侧有下拉菜单
   - 选择：待办 / 进行中 / 已完成
   - 状态会自动更新

3. **删除任务**
   - 点击任务右侧的"删除"按钮
   - 会弹出确认提示
   - 确认后删除

4. **退出登录**
   - 点击右上角"退出登录"按钮
   - 返回登录页面

---

## 🔍 其他功能

### 查看 API 文档

访问：**http://localhost:8000/docs**

这是一个交互式的 API 文档，可以：
- 查看所有接口
- 直接测试 API
- 查看请求/响应示例

### 测试 API

运行测试脚本：
```bash
cd /Users/Mac/code/project/fun/backend
python test_api.py
```

---

## 🛑 停止服务

### 使用脚本（推荐）

```bash
cd /Users/Mac/code/project/fun
./stop.sh
```

### 手动停止

```bash
# 停止后端
pkill -f "uvicorn main:app"

# 停止前端
pkill -f "vite"
```

---

## 📊 端口和地址

| 服务 | 地址 | 说明 |
|------|------|------|
| 前端 | http://localhost:5173 | 浏览器访问 |
| 后端 | http://localhost:8000 | API 服务 |
| API 文档 | http://localhost:8000/docs | Swagger UI |

---

## 📁 数据存储

### 数据库文件
```
/Users/Mac/code/project/fun/backend/tasks.db
```
- SQLite 数据库文件
- 包含用户和任务数据
- 删除此文件可重置所有数据

### Token 存储
- 浏览器 `localStorage`
- 登录后自动保存
- 退出登录时清除

---

## 🎯 完整使用示例

### 场景：创建并管理任务

1. **打开浏览器**
   ```
   http://localhost:5173
   ```

2. **注册账号**
   ```
   邮箱: test@example.com
   密码: 123456
   点击: [注册]
   ```

3. **登录**
   ```
   邮箱: test@example.com
   密码: 123456
   点击: [登录]
   ```

4. **创建任务 1**
   ```
   任务标题: 学习 FastAPI
   任务描述: 掌握基础概念
   点击: [添加任务]
   ```

5. **创建任务 2**
   ```
   任务标题: 学习 Vue 3
   任务描述: Composition API
   点击: [添加任务]
   ```

6. **切换状态**
   ```
   找到"学习 FastAPI"任务
   下拉菜单选择: 进行中
   ```

7. **完成任务**
   ```
   下拉菜单选择: 已完成
   ```

8. **删除任务**
   ```
   点击"学习 Vue 3"右侧的 [删除]
   确认删除
   ```

9. **退出登录**
   ```
   点击右上角 [退出登录]
   ```

---

## 🔧 常见问题

### Q: 页面显示 "连接失败" 或 "Network Error"

**原因：** 后端未启动

**解决：**
```bash
# 检查后端是否运行
curl http://localhost:8000/

# 如果没运行，重新启动
./start.sh
```

### Q: 登录后无法创建任务

**原因：** Token 过期或网络问题

**解决：**
1. 退出登录重新登录
2. 检查浏览器控制台错误（F12）
3. 查看后端日志：`tail -f /tmp/backend.log`

### Q: 端口被占用

**修改端口：**

后端（8000 → 8001）：
```bash
# backend/main.py 最后一行
uvicorn.run(app, host="0.0.0.0", port=8001)

# backend/.env
DATABASE_URL=sqlite:///./tasks.db
```

前端（5173 → 5174）：
```bash
# frontend/vite.config.js
server: { port: 5174 }

# frontend/.env
VITE_API_URL=http://localhost:8001
```

---

## 📖 查看日志

### 后端日志
```bash
tail -f /tmp/backend.log
```

### 前端日志
```bash
tail -f /tmp/frontend.log
```

---

## 🎓 学习建议

1. **先体验功能**
   - 注册登录
   - 创建几个任务
   - 切换状态
   - 删除任务

2. **查看 API 文档**
   - 访问 http://localhost:8000/docs
   - 了解每个接口的作用

3. **阅读代码**
   - `backend/main.py` - API 路由
   - `backend/models.py` - 数据库模型
   - `frontend/src/api.js` - 前端 API 调用
   - `frontend/src/components/Login.vue` - 登录组件

4. **尝试修改**
   - 修改前端样式
   - 添加新功能
   - 修改 API

---

## 🚀 扩展功能（可选）

完成基础体验后，可以尝试添加：

1. **任务筛选**
   - 按状态筛选（待办/进行中/已完成）
   - 按时间筛选

2. **任务搜索**
   - 搜索任务标题和描述

3. **任务详情**
   - 点击任务查看详情
   - 编辑任务内容

4. **数据统计**
   - 任务数量统计
   - 完成率统计
   - 图表展示

---

## 📞 获取帮助

如果遇到问题：

1. **查看日志**
   ```bash
   tail -f /tmp/backend.log
   tail -f /tmp/frontend.log
   ```

2. **检查 API 文档**
   - http://localhost:8000/docs

3. **重启服务**
   ```bash
   ./stop.sh
   ./start.sh
   ```

---

## 🎉 总结

你现在有了一个完整的前后端闭环任务管理系统！

**核心体验：**
- ✅ 前端（Vue 3）→ 用户界面
- ✅ 后端（FastAPI）→ API 服务
- ✅ 数据库（SQLite）→ 数据存储
- ✅ JWT 认证 → 用户安全
- ✅ 完整 CRUD → 任务管理

**启动只需：**
```bash
./start.sh
```

**访问只需：**
```
http://localhost:5173
```

祝你使用愉快！🎉
